<!DOCTYPE html>
<html>
<head>
    <title>CosmoSim Web App - Capacity Degradation</title>
    <link rel="stylesheet" href="../static/style.css">
    </head>
<body>
    <div class="container">
        <h1>Capacity Degradation Heatmap</h1>
        
        <div id="controls">
            <div class="form-row">
                <div class="form-group">
                    <label for="country-select">Country</label>
                    <select id="country-select">
                        <option value="Britain" selected>Britain</option>
                        <option value="Ghana">Ghana</option>
                        <option value="South Africa">South Africa</option>
                        <option value="Tonga">Tonga</option>
                        <option value="Lithuania">Lithuania</option>
                        <option value="Haiti">Haiti</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="terminals-cap-select">Number of terminals / GCB cap</label>
                    <select id="terminals-cap-select">
                        <option value="200000 / 10K">200000 / 10K</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="demand-select">Incumbent demand</label>
                    <select id="demand-select">
                        <option value="8400 Mbps">8400 Mbps</option>
                        <option value="9600 Mbps">9600 Mbps</option>
                        <option value="10800 Mbps">10800 Mbps</option>
                        <option value="12000 Mbps">12000 Mbps</option>
                    </select>
                </div>
                
                <button type="button" id="generate-btn">Generate Visualization</button>
            </div>
        </div>

        <div id="error-container" class="error"></div>

        <div id="result-container" class="result">
            <iframe id="map-frame" class="map-frame" src=""></iframe>
        </div>
        
        <a href="home.html" class="back-button">Back to Home</a>
    </div>

    <script src="../static/viz_logic.js"></script>
    <script>
        // Alias maps from viz_logic.js to what this page's script expects
        const countryMap = countryMapHeatmap;
        const terminalsCapMap = terminalsCapMapHeatmap;
        const demandMap = demandMapHeatmap;
    </script>
    <script src="../static/cell_heatmap.app.js"></script>
</body>
</html>